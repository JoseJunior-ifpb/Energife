<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Cadastro de Campus</title>
    
    <style>
        /* Variáveis de Cores */
:root {
    --primary-color: #007bff; /* Azul vibrante para ações principais */
    --primary-hover: #0056b3; /* Azul mais escuro ao passar o mouse */
    --secondary-color: #6c757d; /* Cinza para elementos secundários */
    --background-light: #f8f9fa; /* Fundo leve */
    --background-white: #ffffff; /* Fundo do cartão/card */
    --text-color-dark: #343a40; /* Cor de texto principal */
    --text-color-light: #6c757d; /* Cor de texto secundário */
    --border-color: #ced4da; /* Cor da borda padrão */
    --focus-ring-color: rgba(0, 123, 255, 0.25); /* Anel de foco suave */
}

/* Base Geral */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: var(--background-light);
    color: var(--text-color-dark);
    line-height: 1.6;
    margin: 0;
    padding: 0;
}

/* Layout Principal */
.container-app {
    max-width: 1000px;
    margin: 30px auto;
    padding: 0 20px;
}

/* Cabeçalho (Hero/Toolbar) */
.hero {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    margin-bottom: 25px;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--border-color);
}

.title h1 {
    font-size: 2.2em;
    margin: 0 0 5px 0;
    color: var(--primary-color);
}

.subtitle {
    font-size: 1em;
    color: var(--text-color-light);
    margin-bottom: 5px;
}

/* Card Principal do Formulário */
.card {
    background-color: var(--background-white);
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Estrutura do Formulário */
.form-container {
    display: flex;
    flex-direction: column;
    gap: 20px; /* Espaço entre as linhas do formulário */
}

.form-row {
    display: flex;
    gap: 20px; /* Espaço entre campos na mesma linha */
}

.form-row .field {
    flex: 1; /* Faz com que os campos ocupem o mesmo espaço */
    transition: transform 0.3s ease-out; /* Transição para o efeito de foco JS */
}

/* Rótulos */
.form-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: var(--text-color-dark);
    font-size: 0.95em;
}

/* Inputs e Selects */
.form-control {
    width: 100%;
    padding: 10px 15px;
    border: 1px solid var(--border-color);
    border-radius: 5px;
    font-size: 1em;
    color: var(--text-color-dark);
    box-sizing: border-box; /* Garante que padding e border não aumentem a largura total */
    transition: border-color 0.2s, box-shadow 0.2s;
}

.form-control:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px var(--focus-ring-color);
}

/* Botões */
.action-buttons {
    display: flex;
    justify-content: flex-start;
    gap: 15px;
    margin-top: 10px;
}

.btn {
    text-decoration: none;
    padding: 10px 20px;
    border-radius: 5px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s, color 0.2s, border-color 0.2s;
    display: inline-block;
    text-align: center;
    border: none;
}

.btn-primary {
    background-color: var(--primary-color);
    color: var(--background-white);
}

.btn-primary:hover:not(:disabled) {
    background-color: var(--primary-hover);
}

.btn-ghost {
    background-color: transparent;
    color: var(--secondary-color);
    border: 1px solid var(--border-color);
}

.btn-ghost:hover:not(:disabled) {
    background-color: var(--background-light);
    border-color: var(--secondary-color);
    color: var(--text-color-dark);
}

.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* Estilo para o botão no toolbar */
.toolbar .btn {
    padding: 8px 15px;
    font-size: 0.9em;
}

/* Responsividade */
@media (max-width: 768px) {
    .hero {
        flex-direction: column;
        align-items: flex-start;
    }

    .toolbar {
        margin-top: 15px;
    }

    .form-row {
        flex-direction: column;
        gap: 15px; /* Reduz o espaço em telas menores */
    }

    .card {
        padding: 20px;
    }
}
    </style>
</head>
<body>
<div class="container-app">
    <div class="hero">
        <div class="title">
            <h1>Cadastro de Campus</h1>
            <div class="subtitle">Adicione ou atualize informações do campus no sistema</div>
        </div>
        <div class="toolbar">
            <a th:href="@{/candidatos/list}" class="btn btn-ghost">Voltar para Lista</a>
        </div>
    </div>

    <div class="card">
        <form th:action="@{/campus}" th:object="${campus}" method="post" class="form-container">

            <!-- Select to choose existing campus for editing -->
            <div class="form-row" th:if="${campuses != null}">
                <div class="field">
                    <label class="form-label">Editar Campus existente</label>
                    <select id="campusSelect" class="form-control">
                        <option value="">-- selecione um campus para editar --</option>
                        <option th:each="cp : ${campuses}"
                                th:value="${cp.id}"
                                th:attr="data-nome=${cp.nome},data-reservadas=${cp.numeroVagasReservadas},data-ampla=${cp.numeroVagasAmplaConcorrencia},data-cadastro=${cp.numeroVagasCadastroReserva},data-classificado=${cp.numeroVagasClassificado},data-habilitado=${cp.numeroVagasHabilitado}"
                                th:text="${cp.nome}">
                        </option>
                    </select>
                </div>
            </div>

            <!-- hidden id to bind to Campus.id when editing -->
            <input type="hidden" th:field="*{id}" />
            <div class="form-row">
                <div class="field">
                    <label class="form-label">Nome do Campus</label>
                    <input type="text" th:field="*{nome}" class="form-control" placeholder="Ex: Campus João Pessoa - Centro" required />
                </div>
            </div>

            <div class="form-row">
                <div class="field">
                    <label class="form-label">Vagas Reservadas para Mulheres</label>
                    <input type="number" th:field="*{numeroVagasReservadas}" class="form-control" min="0" placeholder="0" />
                </div>
                <div class="field">
                    <label class="form-label">Vagas Ampla Concorrência</label>
                    <input type="number" th:field="*{numeroVagasAmplaConcorrencia}" class="form-control" min="0" placeholder="0" />
                </div>
                <div class="field">
                    <label class="form-label">Vagas Cadastro de Reserva (Suplente)</label>
                    <input type="number" th:field="*{numeroVagasCadastroReserva}" class="form-control" min="0" placeholder="0" />
                </div>
            </div>

            <div class="form-row">
                <div class="field">
                    <label class="form-label">Vagas para Classificado</label>
                    <input type="number" th:field="*{numeroVagasClassificado}" class="form-control" min="0" placeholder="0" />
                </div>
                <div class="field">
                    <label class="form-label">Vagas para Habilitado (até 50% a mais)</label>
                    <input type="number" th:field="*{numeroVagasHabilitado}" class="form-control" min="0" placeholder="0" />
                </div>
            </div>

            <div class="action-buttons">
                <button type="submit" class="btn btn-primary">Salvar Campus</button>
                <a th:href="@{/candidatos/list}" class="btn btn-ghost">Cancelar</a>
            </div>
        </form>
    </div>
</div>

<script>
    // Feedback visual ao enviar o formulário
    document.querySelector('form').addEventListener('submit', function(e) {
        const btn = this.querySelector('.btn-primary');
        const originalText = btn.textContent;
        btn.innerHTML = 'Salvando...';
        btn.disabled = true;
        
        setTimeout(() => {
            btn.innerHTML = originalText;
            btn.disabled = false;
        }, 3000);
    });

    // Efeito de foco suave nos inputs
    document.querySelectorAll('.form-control').forEach(input => {
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'scale(1.02)';
        });
        
        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'scale(1)';
        });
    });

    // Populate form when selecting an existing campus
    const campusSelect = document.getElementById('campusSelect');
    if (campusSelect) {
        campusSelect.addEventListener('change', function() {
            const sel = this.options[this.selectedIndex];
            const id = this.value;
            if (!id) {
                // clear fields
                document.querySelector('input[name="nome"]').value = '';
                document.querySelector('input[name="numeroVagasReservadas"]').value = '';
                document.querySelector('input[name="numeroVagasAmplaConcorrencia"]').value = '';
                document.querySelector('input[name="numeroVagasCadastroReserva"]').value = '';
                document.querySelector('input[name="numeroVagasClassificado"]').value = '';
                document.querySelector('input[name="numeroVagasHabilitado"]').value = '';
                document.querySelector('input[name="id"]').value = '';
                return;
            }
            const nome = sel.getAttribute('data-nome') || sel.textContent;
            const reservadas = sel.getAttribute('data-reservadas') || '';
            const ampla = sel.getAttribute('data-ampla') || '';
            const cadastro = sel.getAttribute('data-cadastro') || '';
            const classificado = sel.getAttribute('data-classificado') || '';
            const habilitado = sel.getAttribute('data-habilitado') || '';

            document.querySelector('input[name="nome"]').value = nome;
            document.querySelector('input[name="numeroVagasReservadas"]').value = reservadas;
            document.querySelector('input[name="numeroVagasAmplaConcorrencia"]').value = ampla;
            document.querySelector('input[name="numeroVagasCadastroReserva"]').value = cadastro;
            document.querySelector('input[name="numeroVagasClassificado"]').value = classificado;
            document.querySelector('input[name="numeroVagasHabilitado"]').value = habilitado;
            document.querySelector('input[name="id"]').value = id;
        });
    }
</script>
</body>
</html>